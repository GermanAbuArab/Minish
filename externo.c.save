#include "minish.h"

int externo(int argc, char **argv) {	
    pid_t p,waitp;
    p= fork();//<0 error,  =0  proceso hijo,  > 0 proceso padre
	int estadoretorno;
    if(p<0) { //si falla
        perror("Error al crear otro proceso:");
        return -1;
    }
    else if(p==0) { //proceso hijo el que llama  a ext
        if((execv(argv[0],argv))==-1)
        {
            perror("Error al intentar ejecutar un proceso externo:");
            return -1;
        }
    }
    else { // proceso padre (yo) tengo que esperar al hijo
    do{// que espere al  hijo mientras 
	   waitp=waitpid(p,&status, WUNTRACED);
    }while(!WIFEXITED(status) && !WIFSIGNALED(status));
	}
    return estadoretornos;
}




//fork  procesos simultaneops llamos al externo(extect) y vuelvo






